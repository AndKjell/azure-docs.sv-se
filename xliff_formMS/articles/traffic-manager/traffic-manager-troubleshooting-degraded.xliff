<?xml version="1.0" encoding="utf-8"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" source-language="en-us" target-language="zh-cn" original="foo.file" tool-id="6c5ccc15-e360-461e-b196-274c609558e4" product-name="foo" product-version="1.0" build-num="1">
    <header>
      <tool tool-id="6c5ccc15-e360-461e-b196-274c609558e4" tool-name="MarkdownToXliff" tool-version="1.0" tool-company="Microsoft" />
    </header>
    <body>
      <group id="f72d1a07-95c2-4f9c-8ffe-28ca3d956761">
        <trans-unit id="cc2478a0-f420-4426-8be6-6463b0453555" xml:space="preserve">
          <source>Troubleshooting degraded status on Azure Traffic Manager</source>
          <target state="new">Troubleshooting degraded status on Azure Traffic Manager</target>
        </trans-unit>
        <trans-unit id="f708c44e-11e1-47a9-9481-fc40c59a4315" xml:space="preserve">
          <source>How to troubleshoot Traffic Manager profiles when it shows as degraded status.</source>
          <target state="new">How to troubleshoot Traffic Manager profiles when it shows as degraded status.</target>
        </trans-unit>
        <trans-unit id="769893dc-6f58-487f-8cac-6919489ce42d" xml:space="preserve">
          <source>This page will describe how to troubleshoot Azure Traffic Manager profile which is showing a degraded status, and provide some key points to understand about traffic manager probes.</source>
          <target state="new">This page will describe how to troubleshoot Azure Traffic Manager profile which is showing a degraded status, and provide some key points to understand about traffic manager probes.</target>
        </trans-unit>
        <trans-unit id="1b0b4d12-7529-4b15-90cb-67e9d5bdd4de" xml:space="preserve">
          <source>You have configured a Traffic Manager profile pointing to some of your .cloudapp.net hosted services and after a few seconds you see the Status as Degraded.</source>
          <target state="new">You have configured a Traffic Manager profile pointing to some of your .cloudapp.net hosted services and after a few seconds you see the Status as Degraded.</target>
        </trans-unit>
        <trans-unit id="13f85829-72c2-433c-b87a-938e81350b2e" xml:space="preserve">
          <source><bpt id="217cb589-031e-4b45-bc3c-b6678d8538fb">&lt;linkText&gt;</bpt>degradedstate<ept id="217cb589-031e-4b45-bc3c-b6678d8538fb">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="217cb589-031e-4b45-bc3c-b6678d8538fb">&lt;linkText&gt;</bpt>degradedstate<ept id="217cb589-031e-4b45-bc3c-b6678d8538fb">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="0d67e1e6-bb2c-48c3-92c0-ea3752df46ad" xml:space="preserve">
          <source>If you go into the Endpoints tab of that profile you will see one or more of the endpoints in an Offline status:</source>
          <target state="new">If you go into the Endpoints tab of that profile you will see one or more of the endpoints in an Offline status:</target>
        </trans-unit>
        <trans-unit id="c325b0cb-7006-4ee4-8a18-a46f7a0272ac" xml:space="preserve">
          <source><bpt id="723a487c-9590-407f-8273-e61eb1c14a3d">&lt;linkText&gt;</bpt>offline<ept id="723a487c-9590-407f-8273-e61eb1c14a3d">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="723a487c-9590-407f-8273-e61eb1c14a3d">&lt;linkText&gt;</bpt>offline<ept id="723a487c-9590-407f-8273-e61eb1c14a3d">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="a979c1e8-0fce-4106-820f-8e12cdbb6729" xml:space="preserve">
          <source>Traffic Manager only considers an endpoint as ONLINE if the probe gets a 200 back from the probe path.</source>
          <target state="new">Traffic Manager only considers an endpoint as ONLINE if the probe gets a 200 back from the probe path.</target>
        </trans-unit>
        <trans-unit id="a2b275fe-bf86-424b-9e58-6f3fe0f26ada" xml:space="preserve">
          <source>A 30x redirect (or any other non-200 response) will fail, even if the redirected URL returns a 200.</source>
          <target state="new">A 30x redirect (or any other non-200 response) will fail, even if the redirected URL returns a 200.</target>
        </trans-unit>
        <trans-unit id="83560621-5427-4af3-89f5-5309257c90a5" xml:space="preserve">
          <source>For HTTPs probes, certificate errors are ignored.</source>
          <target state="new">For HTTPs probes, certificate errors are ignored.</target>
        </trans-unit>
        <trans-unit id="b816c73a-ac99-496c-b746-d6ddf20a70b2" xml:space="preserve">
          <source>The actual content of the probe path doesn’t matter, as long as a 200 is returned.</source>
          <target state="new">The actual content of the probe path doesn’t matter, as long as a 200 is returned.</target>
        </trans-unit>
        <trans-unit id="3ced5885-b091-435b-b343-c06de964e544" xml:space="preserve">
          <source>A common technique if the actual website content doesn’t return a 200 (ie. if the ASP pages redirect to an ACS login page or some other CNAME URL) is to set the path to something like “/favicon.ico”.</source>
          <target state="new">A common technique if the actual website content doesn’t return a 200 (ie. if the ASP pages redirect to an ACS login page or some other CNAME URL) is to set the path to something like “/favicon.ico”.</target>
        </trans-unit>
        <trans-unit id="c3e03a8f-a30e-4224-bce3-9081d65d9756" xml:space="preserve">
          <source>Best practice is to set the Probe path to something which has enough logic to determine if the site is up or down.</source>
          <target state="new">Best practice is to set the Probe path to something which has enough logic to determine if the site is up or down.</target>
        </trans-unit>
        <trans-unit id="e96fdb14-ca29-4f7b-89db-be5c44b515eb" xml:space="preserve">
          <source>In the above example setting the path to “/favicon.ico” you are only testing if w3wp.exe is responding, but not if your website is healthy.</source>
          <target state="new">In the above example setting the path to “/favicon.ico” you are only testing if w3wp.exe is responding, but not if your website is healthy.</target>
        </trans-unit>
        <trans-unit id="bbae45b5-2ea8-4a53-a0ef-b7fe2f1f32cf" xml:space="preserve">
          <source>A better option would be to set a path to something such as “/Probe.aspx”, and within Probe.aspx include enough logic to determine if your site is healthy (ie. check perf counters to make sure you aren’t at 100% CPU or receiving a large number of failed requests, attempt to access resources such as the database or session state to make sure the application’s logic is working, etc).</source>
          <target state="new">A better option would be to set a path to something such as “/Probe.aspx”, and within Probe.aspx include enough logic to determine if your site is healthy (ie. check perf counters to make sure you aren’t at 100% CPU or receiving a large number of failed requests, attempt to access resources such as the database or session state to make sure the application’s logic is working, etc).</target>
        </trans-unit>
        <trans-unit id="30ad6e08-efef-477b-96a7-75eb6ed0f31f" xml:space="preserve">
          <source>If all endpoints in a profile are degraded then Traffic Manager will treat all endpoints as healthy and route traffic to all endpoints.</source>
          <target state="new">If all endpoints in a profile are degraded then Traffic Manager will treat all endpoints as healthy and route traffic to all endpoints.</target>
        </trans-unit>
        <trans-unit id="19e36f3f-2316-4434-97f6-262228f6772b" xml:space="preserve">
          <source>This is to ensure that any potential problem with the probing mechanism which results in incorrectly failed probes will not result in a complete outage of your service.</source>
          <target state="new">This is to ensure that any potential problem with the probing mechanism which results in incorrectly failed probes will not result in a complete outage of your service.</target>
        </trans-unit>
        <trans-unit id="6c0f8683-4b75-4494-9ee9-9f4454e54767" xml:space="preserve">
          <source>One tool for troubleshooting Traffic Manager probe failures is wget.</source>
          <target state="new">One tool for troubleshooting Traffic Manager probe failures is wget.</target>
        </trans-unit>
        <trans-unit id="fbaba6fd-bd94-430d-bbdb-b67917b7438c" xml:space="preserve">
          <source>You can get the binaries and dependencies package from <bpt id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;linkText&gt;</bpt>wget<ept id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;/linkText&gt;</ept><bpt id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;title&gt;</bpt><ept id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;/title&gt;</ept>.</source>
          <target state="new">You can get the binaries and dependencies package from <bpt id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;linkText&gt;</bpt>wget<ept id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;/linkText&gt;</ept><bpt id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;title&gt;</bpt><ept id="937c1b6b-711b-4764-9016-9235be2e6363">&lt;/title&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="70dec6ef-edc1-4645-a635-78c97b6f694d" xml:space="preserve">
          <source>Note that you can use other programs such as Fiddler or curl instead of wget – basically you just need something that will show you the raw HTTP response.</source>
          <target state="new">Note that you can use other programs such as Fiddler or curl instead of wget – basically you just need something that will show you the raw HTTP response.</target>
        </trans-unit>
        <trans-unit id="8feede98-cd51-45bc-90e6-e0bd864c6d70" xml:space="preserve">
          <source>Once you have wget installed, go to a command prompt and run wget against the URL + Probe port &amp; path that is configured in Traffic Manager.  For this example it would be http://watestsdp2008r2.cloudapp.net:80/Probe.</source>
          <target state="new">Once you have wget installed, go to a command prompt and run wget against the URL + Probe port &amp; path that is configured in Traffic Manager.  For this example it would be http://watestsdp2008r2.cloudapp.net:80/Probe.</target>
        </trans-unit>
        <trans-unit id="98f89da0-64c6-4975-83c4-4aad861c956f" xml:space="preserve">
          <source><bpt id="f1986eff-0b1c-4fb0-821d-7cc4bd75f336">&lt;linkText&gt;</bpt>troubleshooting<ept id="f1986eff-0b1c-4fb0-821d-7cc4bd75f336">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="f1986eff-0b1c-4fb0-821d-7cc4bd75f336">&lt;linkText&gt;</bpt>troubleshooting<ept id="f1986eff-0b1c-4fb0-821d-7cc4bd75f336">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="300aa6c1-dadf-49f3-b370-2655408d0e04" xml:space="preserve">
          <source>Using Wget:</source>
          <target state="new">Using Wget:</target>
        </trans-unit>
        <trans-unit id="e51cc42d-ab7d-4a96-b8b2-e590e0bec469" xml:space="preserve">
          <source><bpt id="d6bb28f8-1e86-480e-89d1-f064b543829d">&lt;linkText&gt;</bpt>wget<ept id="d6bb28f8-1e86-480e-89d1-f064b543829d">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="d6bb28f8-1e86-480e-89d1-f064b543829d">&lt;linkText&gt;</bpt>wget<ept id="d6bb28f8-1e86-480e-89d1-f064b543829d">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="34b0c857-1128-4f9a-93ae-23b74c79dd53" xml:space="preserve">
          <source>Notice that wget indicates that the URL returned a 301 redirect to http://watestsdp2008r2.cloudapp.net/Default.aspx.</source>
          <target state="new">Notice that wget indicates that the URL returned a 301 redirect to http://watestsdp2008r2.cloudapp.net/Default.aspx.</target>
        </trans-unit>
        <trans-unit id="abfe5d5b-1f18-4b85-a5bf-3d146c29dec5" xml:space="preserve">
          <source>As we know from the “Important notes about Traffic Manager probing” section above, a 30x redirect is considered a failure by Traffic Manager probing and this will cause the probe to report Offline.</source>
          <target state="new">As we know from the “Important notes about Traffic Manager probing” section above, a 30x redirect is considered a failure by Traffic Manager probing and this will cause the probe to report Offline.</target>
        </trans-unit>
        <trans-unit id="83b291e4-40e9-4c6f-80ef-92fd10d25276" xml:space="preserve">
          <source>At this point it is a simple matter to check the website configuration and make sure that a 200 is returned from the /Probe path (or reconfigure the Traffic Manager probe to point to a path which will return a 200).</source>
          <target state="new">At this point it is a simple matter to check the website configuration and make sure that a 200 is returned from the /Probe path (or reconfigure the Traffic Manager probe to point to a path which will return a 200).</target>
        </trans-unit>
        <trans-unit id="468b0bfb-9572-4f1e-9ca9-cf05276ddf18" xml:space="preserve">
          <source>If your probe is using HTTPs protocol you will want to add the “--no-check-certificate” parameter to wget so that it will ignore the certificate mismatch on the cloudapp.net URL.</source>
          <target state="new">If your probe is using HTTPs protocol you will want to add the “--no-check-certificate” parameter to wget so that it will ignore the certificate mismatch on the cloudapp.net URL.</target>
        </trans-unit>
        <trans-unit id="9133ed8b-1fb0-45c4-9a45-d25802aebf68" xml:space="preserve">
          <source><bpt id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;linkText&gt;</bpt>About Traffic Manager traffic routing methods<ept id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;/linkText&gt;</ept><bpt id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;title&gt;</bpt><ept id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;linkText&gt;</bpt>About Traffic Manager traffic routing methods<ept id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;/linkText&gt;</ept><bpt id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;title&gt;</bpt><ept id="1ce2a3b3-4fbe-4db6-8cb9-3aded219a0a2">&lt;/title&gt;</ept></target>
        </trans-unit>
        <trans-unit id="fb06adbc-eac4-42c7-b598-19acd3f0b782" xml:space="preserve">
          <source><bpt id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;linkText&gt;</bpt>What is Traffic Manager<ept id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;/linkText&gt;</ept><bpt id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;title&gt;</bpt><ept id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;linkText&gt;</bpt>What is Traffic Manager<ept id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;/linkText&gt;</ept><bpt id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;title&gt;</bpt><ept id="f34390bd-5a8a-4897-b8ee-cc7db65558b8">&lt;/title&gt;</ept></target>
        </trans-unit>
        <trans-unit id="db91459f-8edb-4381-b2cd-b96bcb1c9317" xml:space="preserve">
          <source><bpt id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;linkText&gt;</bpt>Cloud Services<ept id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;/linkText&gt;</ept><bpt id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;title&gt;</bpt><ept id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;linkText&gt;</bpt>Cloud Services<ept id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;/linkText&gt;</ept><bpt id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;title&gt;</bpt><ept id="ebb303d2-1e7f-4fb3-b8ad-4af5557d4ff6">&lt;/title&gt;</ept></target>
        </trans-unit>
        <trans-unit id="db938dd5-d5ad-4059-aa22-6ac39e1ec26a" xml:space="preserve">
          <source><bpt id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;linkText&gt;</bpt>Websites<ept id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;/linkText&gt;</ept><bpt id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;title&gt;</bpt><ept id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;linkText&gt;</bpt>Websites<ept id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;/linkText&gt;</ept><bpt id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;title&gt;</bpt><ept id="d64d683f-7ee8-49cc-9371-5fa992c8c19f">&lt;/title&gt;</ept></target>
        </trans-unit>
        <trans-unit id="66c0f0f3-b3e4-4647-8a5b-122d97ce3875" xml:space="preserve">
          <source><bpt id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;linkText&gt;</bpt>Operations on Traffic Manager (REST API Reference)<ept id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;/linkText&gt;</ept><bpt id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;title&gt;</bpt><ept id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;linkText&gt;</bpt>Operations on Traffic Manager (REST API Reference)<ept id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;/linkText&gt;</ept><bpt id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;title&gt;</bpt><ept id="8fd501ed-3a5e-4a91-98bc-c10f8b1e30c1">&lt;/title&gt;</ept></target>
        </trans-unit>
        <trans-unit id="74590f6f-723e-41ba-ad6e-eb2681493660" xml:space="preserve">
          <source><bpt id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;linkText&gt;</bpt>Azure Traffic Manager Cmdlets<ept id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;/linkText&gt;</ept><bpt id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;title&gt;</bpt><ept id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;/title&gt;</ept></source>
          <target state="new"><bpt id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;linkText&gt;</bpt>Azure Traffic Manager Cmdlets<ept id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;/linkText&gt;</ept><bpt id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;title&gt;</bpt><ept id="1ad2a4f2-548c-480a-a098-9284389c951b">&lt;/title&gt;</ept></target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>