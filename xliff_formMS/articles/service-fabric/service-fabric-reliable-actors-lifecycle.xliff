<?xml version="1.0" encoding="utf-8"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" source-language="en-us" target-language="zh-cn" original="foo.file" tool-id="271ff462-2ecd-412a-857b-5c03fdbe39e9" product-name="foo" product-version="1.0" build-num="1">
    <header>
      <tool tool-id="271ff462-2ecd-412a-857b-5c03fdbe39e9" tool-name="MarkdownToXliff" tool-version="1.0" tool-company="Microsoft" />
    </header>
    <body>
      <group id="45750e1d-e7db-46cf-a914-2ae18dc5778e">
        <trans-unit id="4f531bc8-2d45-46d1-b324-acb60f16cb96" xml:space="preserve">
          <source>Reliable Actors Lifecycle</source>
          <target state="new">Reliable Actors Lifecycle</target>
        </trans-unit>
        <trans-unit id="866ca29f-4bc7-4870-b955-cfd94ccc8036" xml:space="preserve">
          <source>Explains Lifecycle and Garbage Collection for Service Fabric Reliable Actors</source>
          <target state="new">Explains Lifecycle and Garbage Collection for Service Fabric Reliable Actors</target>
        </trans-unit>
        <trans-unit id="2d42b4a1-58e7-4233-898d-e763fb77eacd" xml:space="preserve">
          <source>An Actor is activated when the first call is made to it and it is deactivated (Garbage Collected by Actors runtime) if it is not used for some period of time.</source>
          <target state="new">An Actor is activated when the first call is made to it and it is deactivated (Garbage Collected by Actors runtime) if it is not used for some period of time.</target>
        </trans-unit>
        <trans-unit id="027d449d-b874-4a14-b558-b8d65685bbfd" xml:space="preserve">
          <source>To configure this time period please see section on Actor Garbage Collection below.</source>
          <target state="new">To configure this time period please see section on Actor Garbage Collection below.</target>
        </trans-unit>
        <trans-unit id="100b6474-b74e-437d-a71b-94b8a6c61986" xml:space="preserve">
          <source>What happens on Actor Activation?</source>
          <target state="new">What happens on Actor Activation?</target>
        </trans-unit>
        <trans-unit id="cbdde240-68fa-4468-9086-efa8b00e533a" xml:space="preserve">
          <source>When a call comes for an actor and it is not already active, a new actor is created.</source>
          <target state="new">When a call comes for an actor and it is not already active, a new actor is created.</target>
        </trans-unit>
        <trans-unit id="f82620fe-7508-4688-8653-91e4e4408015" xml:space="preserve">
          <source>Its state is loaded (if it is a stateful actor)</source>
          <target state="new">Its state is loaded (if it is a stateful actor)</target>
        </trans-unit>
        <trans-unit id="6f293d6c-3f81-49e1-a4e3-89a7fc9a2751" xml:space="preserve">
          <source><bpt id="1301fe50-c7a8-4eb3-b697-9d439fe3a356">&lt;code&gt;</bpt>OnActivateAsync<ept id="1301fe50-c7a8-4eb3-b697-9d439fe3a356">&lt;/code&gt;</ept> method (which can be overridden in  actor implementation) is called.</source>
          <target state="new"><bpt id="1301fe50-c7a8-4eb3-b697-9d439fe3a356">&lt;code&gt;</bpt>OnActivateAsync<ept id="1301fe50-c7a8-4eb3-b697-9d439fe3a356">&lt;/code&gt;</ept> method (which can be overridden in  actor implementation) is called.</target>
        </trans-unit>
        <trans-unit id="4b468a73-237b-4eeb-8d58-02573cc34944" xml:space="preserve">
          <source>It is added to an Active Actors table.</source>
          <target state="new">It is added to an Active Actors table.</target>
        </trans-unit>
        <trans-unit id="0ce0bcff-2757-4e3d-8916-92c93787448d" xml:space="preserve">
          <source>What happens on Actor Deactivation?</source>
          <target state="new">What happens on Actor Deactivation?</target>
        </trans-unit>
        <trans-unit id="249d3872-8518-4a82-b26c-cf43c7b226e6" xml:space="preserve">
          <source>When an actor is not used for some period of time, it is removed from the table of Active Actors.</source>
          <target state="new">When an actor is not used for some period of time, it is removed from the table of Active Actors.</target>
        </trans-unit>
        <trans-unit id="895cc88a-28cb-4669-a8de-16340d585530" xml:space="preserve">
          <source><bpt id="cdccd672-c4c0-4ed2-b361-acaf2c15c1ff">&lt;code&gt;</bpt>OnDeactivateAsync<ept id="cdccd672-c4c0-4ed2-b361-acaf2c15c1ff">&lt;/code&gt;</ept> method (which can be overridden in actor implementation) is called which clears all the timers for the actor.</source>
          <target state="new"><bpt id="cdccd672-c4c0-4ed2-b361-acaf2c15c1ff">&lt;code&gt;</bpt>OnDeactivateAsync<ept id="cdccd672-c4c0-4ed2-b361-acaf2c15c1ff">&lt;/code&gt;</ept> method (which can be overridden in actor implementation) is called which clears all the timers for the actor.</target>
        </trans-unit>
        <trans-unit id="ebde628e-d9d8-4514-8767-c99289b08ed0" xml:space="preserve">
          <source>The Fabric Actors runtime emits some <bpt id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;linkText&gt;</bpt>events related to actor activation and deactivation<ept id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;/linkText&gt;</ept><bpt id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;title&gt;</bpt><ept id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;/title&gt;</ept>.</source>
          <target state="new">The Fabric Actors runtime emits some <bpt id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;linkText&gt;</bpt>events related to actor activation and deactivation<ept id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;/linkText&gt;</ept><bpt id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;title&gt;</bpt><ept id="69f36e53-5455-4fcf-9e72-472c7f133217">&lt;/title&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="676b49bf-9485-4fb3-a372-a33ec3d29cce" xml:space="preserve">
          <source>They are useful in diagnostics and performance monitoring.</source>
          <target state="new">They are useful in diagnostics and performance monitoring.</target>
        </trans-unit>
        <trans-unit id="681c7aed-f4f2-4d24-9b09-a6374f3466d0" xml:space="preserve">
          <source>The Actors runtime periodically scans for actors that have not been used for some period of time, and deactivates them.</source>
          <target state="new">The Actors runtime periodically scans for actors that have not been used for some period of time, and deactivates them.</target>
        </trans-unit>
        <trans-unit id="d4ba11c6-f65f-4fa5-8cf3-61c3d3c231f8" xml:space="preserve">
          <source>Once they are deactivated they can be garbage collected by CLR.</source>
          <target state="new">Once they are deactivated they can be garbage collected by CLR.</target>
        </trans-unit>
        <trans-unit id="ffe25996-f401-4b60-add8-d9d727ed1332" xml:space="preserve">
          <source>What counts as “being used” for the purpose of garbage collection?</source>
          <target state="new">What counts as “being used” for the purpose of garbage collection?</target>
        </trans-unit>
        <trans-unit id="8724f025-3049-4fed-9ba1-1227a9e6ae38" xml:space="preserve">
          <source>Receiving a call.</source>
          <target state="new">Receiving a call.</target>
        </trans-unit>
        <trans-unit id="7d854221-3ddc-4cce-8595-6546550e936d" xml:space="preserve">
          <source><bpt id="0c996572-9670-4d22-94d3-73508a50a164">&lt;code&gt;</bpt>IRemindable.ReceiveReminderAsync<ept id="0c996572-9670-4d22-94d3-73508a50a164">&lt;/code&gt;</ept> method being invoked (applicable only if the actor uses reminders).</source>
          <target state="new"><bpt id="0c996572-9670-4d22-94d3-73508a50a164">&lt;code&gt;</bpt>IRemindable.ReceiveReminderAsync<ept id="0c996572-9670-4d22-94d3-73508a50a164">&lt;/code&gt;</ept> method being invoked (applicable only if the actor uses reminders).</target>
        </trans-unit>
        <trans-unit id="65fb2c38-45c3-4212-ac62-2e072eece8f4" xml:space="preserve">
          <source>It is worth noting that if the actor uses timers and its timer callback is invoked, it does <bpt id="88af5d9e-2aac-4d5c-b161-ca81adff195b">&lt;strong&gt;</bpt>not<ept id="88af5d9e-2aac-4d5c-b161-ca81adff195b">&lt;/strong&gt;</ept> count as "being used".</source>
          <target state="new">It is worth noting that if the actor uses timers and its timer callback is invoked, it does <bpt id="88af5d9e-2aac-4d5c-b161-ca81adff195b">&lt;strong&gt;</bpt>not<ept id="88af5d9e-2aac-4d5c-b161-ca81adff195b">&lt;/strong&gt;</ept> count as "being used".</target>
        </trans-unit>
        <trans-unit id="2e0c4cdc-1a09-410a-8b7d-103f448f5238" xml:space="preserve">
          <source>Before going into the details of garbage collection, it is important to define the following terms:</source>
          <target state="new">Before going into the details of garbage collection, it is important to define the following terms:</target>
        </trans-unit>
        <trans-unit id="3da3c4de-e550-4b0d-b6f0-454101712563" xml:space="preserve">
          <source><bpt id="6a871db2-22ea-4b64-8f8e-fdedc641d301">&lt;em&gt;</bpt>Scan interval<ept id="6a871db2-22ea-4b64-8f8e-fdedc641d301">&lt;/em&gt;</ept> - This is the interval at which the Actors runtime scans its Active Actors table for actors that can be garbage collected.</source>
          <target state="new"><bpt id="6a871db2-22ea-4b64-8f8e-fdedc641d301">&lt;em&gt;</bpt>Scan interval<ept id="6a871db2-22ea-4b64-8f8e-fdedc641d301">&lt;/em&gt;</ept> - This is the interval at which the Actors runtime scans its Active Actors table for actors that can be garbage collected.</target>
        </trans-unit>
        <trans-unit id="140d2e31-04fa-4c29-951a-393bc32c5fc6" xml:space="preserve">
          <source>The default value for this is 1 minute.</source>
          <target state="new">The default value for this is 1 minute.</target>
        </trans-unit>
        <trans-unit id="8d84d2a9-0c48-43e0-9202-6cbfff3bbfa3" xml:space="preserve">
          <source><bpt id="f827e14f-a59f-4334-aa56-3a880895153d">&lt;em&gt;</bpt>Idle timeout<ept id="f827e14f-a59f-4334-aa56-3a880895153d">&lt;/em&gt;</ept> - This is the amount of time an actor needs to remain unused (idle) before it can be garbage collected.</source>
          <target state="new"><bpt id="f827e14f-a59f-4334-aa56-3a880895153d">&lt;em&gt;</bpt>Idle timeout<ept id="f827e14f-a59f-4334-aa56-3a880895153d">&lt;/em&gt;</ept> - This is the amount of time an actor needs to remain unused (idle) before it can be garbage collected.</target>
        </trans-unit>
        <trans-unit id="37680e49-b1e8-4353-b504-730c0dc1e792" xml:space="preserve">
          <source>The default value for this is 60 minutes.</source>
          <target state="new">The default value for this is 60 minutes.</target>
        </trans-unit>
        <trans-unit id="c770059b-3175-436d-8f5a-4548cb8e92c1" xml:space="preserve">
          <source>Typically you do not need to change these defaults.</source>
          <target state="new">Typically you do not need to change these defaults.</target>
        </trans-unit>
        <trans-unit id="5bdc4d8e-fcc4-4500-9225-17331bd98e18" xml:space="preserve">
          <source>However, if necessary, these intervals can be changed at an assembly level for all actor types in that assembly or at an actor type level using the <bpt id="2b07d25d-58e3-41b0-a513-897879164e9e">&lt;code&gt;</bpt>ActorGarbageCollection<ept id="2b07d25d-58e3-41b0-a513-897879164e9e">&lt;/code&gt;</ept> attribute.</source>
          <target state="new">However, if necessary, these intervals can be changed at an assembly level for all actor types in that assembly or at an actor type level using the <bpt id="2b07d25d-58e3-41b0-a513-897879164e9e">&lt;code&gt;</bpt>ActorGarbageCollection<ept id="2b07d25d-58e3-41b0-a513-897879164e9e">&lt;/code&gt;</ept> attribute.</target>
        </trans-unit>
        <trans-unit id="a7b5ab61-16e8-415a-a696-53c35c8b6606" xml:space="preserve">
          <source>The example below shows the change in the garbage collection intervals for HelloActor.</source>
          <target state="new">The example below shows the change in the garbage collection intervals for HelloActor.</target>
        </trans-unit>
        <trans-unit id="4aa9c935-14a1-43b3-ab38-5981dac75ac8" xml:space="preserve">
          <source>To change default value of <bpt id="9b8eaf67-39a1-47d3-8a96-042deb8dc055">&lt;code&gt;</bpt>ActorGarbageCollection<ept id="9b8eaf67-39a1-47d3-8a96-042deb8dc055">&lt;/code&gt;</ept> attribute at Assembly level, add following snippet to <bpt id="95e13a5b-eae2-4d4e-b509-2a1beb0ae4fc">&lt;code&gt;</bpt>AssemblyInfo.cs<ept id="95e13a5b-eae2-4d4e-b509-2a1beb0ae4fc">&lt;/code&gt;</ept>.</source>
          <target state="new">To change default value of <bpt id="9b8eaf67-39a1-47d3-8a96-042deb8dc055">&lt;code&gt;</bpt>ActorGarbageCollection<ept id="9b8eaf67-39a1-47d3-8a96-042deb8dc055">&lt;/code&gt;</ept> attribute at Assembly level, add following snippet to <bpt id="95e13a5b-eae2-4d4e-b509-2a1beb0ae4fc">&lt;code&gt;</bpt>AssemblyInfo.cs<ept id="95e13a5b-eae2-4d4e-b509-2a1beb0ae4fc">&lt;/code&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="56596203-c58d-4a47-ad6b-a3e8dd4616d0" xml:space="preserve">
          <source>For each actor in its Active Actors table, the Actors runtime keeps track of the amount of time it has been idle (i.e. not used).</source>
          <target state="new">For each actor in its Active Actors table, the Actors runtime keeps track of the amount of time it has been idle (i.e. not used).</target>
        </trans-unit>
        <trans-unit id="f9817b94-e7a8-49ae-acac-3b1638f8ba90" xml:space="preserve">
          <source>The Actors runtime checks each of the actors every <bpt id="e83e6e7b-9da1-4dbd-b434-864c60676a3e">&lt;code&gt;</bpt>ScanIntervalInSeconds<ept id="e83e6e7b-9da1-4dbd-b434-864c60676a3e">&lt;/code&gt;</ept> to see if it can be garbage collected and collects it if has been idle for <bpt id="8ab661c7-9025-4fd2-8612-97965ecc9667">&lt;code&gt;</bpt>IdleTimeoutInSeconds<ept id="8ab661c7-9025-4fd2-8612-97965ecc9667">&lt;/code&gt;</ept>.</source>
          <target state="new">The Actors runtime checks each of the actors every <bpt id="e83e6e7b-9da1-4dbd-b434-864c60676a3e">&lt;code&gt;</bpt>ScanIntervalInSeconds<ept id="e83e6e7b-9da1-4dbd-b434-864c60676a3e">&lt;/code&gt;</ept> to see if it can be garbage collected and collects it if has been idle for <bpt id="8ab661c7-9025-4fd2-8612-97965ecc9667">&lt;code&gt;</bpt>IdleTimeoutInSeconds<ept id="8ab661c7-9025-4fd2-8612-97965ecc9667">&lt;/code&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="dcf34c9a-d4b9-4f2a-ae7e-a290d07d7e23" xml:space="preserve">
          <source>Any time an actor gets used, its idle time reset to 0.</source>
          <target state="new">Any time an actor gets used, its idle time reset to 0.</target>
        </trans-unit>
        <trans-unit id="74a7ee5b-25ff-40e4-9bfb-2de0a6b1d5ac" xml:space="preserve">
          <source>After this, the actor can only be garbage collected if it again remains idle for <bpt id="b75cb509-8bcf-4fb5-a0d7-f3e5d3349984">&lt;code&gt;</bpt>IdleTimeoutInSeconds<ept id="b75cb509-8bcf-4fb5-a0d7-f3e5d3349984">&lt;/code&gt;</ept>.</source>
          <target state="new">After this, the actor can only be garbage collected if it again remains idle for <bpt id="b75cb509-8bcf-4fb5-a0d7-f3e5d3349984">&lt;code&gt;</bpt>IdleTimeoutInSeconds<ept id="b75cb509-8bcf-4fb5-a0d7-f3e5d3349984">&lt;/code&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="5c4766cb-34df-4c12-af0f-fb688e82cdeb" xml:space="preserve">
          <source>Recall that an actor is considered to have been used if either an actor interface method an actor reminder callback is executed.</source>
          <target state="new">Recall that an actor is considered to have been used if either an actor interface method an actor reminder callback is executed.</target>
        </trans-unit>
        <trans-unit id="6f8594af-f7f7-4cc4-9959-97342142f6f0" xml:space="preserve">
          <source>An actor is <bpt id="629371df-0efb-4467-9865-f47ef95bd3f0">&lt;strong&gt;</bpt>not<ept id="629371df-0efb-4467-9865-f47ef95bd3f0">&lt;/strong&gt;</ept> considered to have been used if its timer callback is executed.</source>
          <target state="new">An actor is <bpt id="629371df-0efb-4467-9865-f47ef95bd3f0">&lt;strong&gt;</bpt>not<ept id="629371df-0efb-4467-9865-f47ef95bd3f0">&lt;/strong&gt;</ept> considered to have been used if its timer callback is executed.</target>
        </trans-unit>
        <trans-unit id="f64204f2-9479-4d9b-8a24-e3233efdeaf3" xml:space="preserve">
          <source>The diagram below contains an example to illustrate these concepts.</source>
          <target state="new">The diagram below contains an example to illustrate these concepts.</target>
        </trans-unit>
        <trans-unit id="48bf781a-4282-4dd5-83cb-987b2297e6af" xml:space="preserve">
          <source><bpt id="4b1550eb-de3e-4e46-a0a9-c8a922e26f29">&lt;linkText&gt;</bpt><ept id="4b1550eb-de3e-4e46-a0a9-c8a922e26f29">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="4b1550eb-de3e-4e46-a0a9-c8a922e26f29">&lt;linkText&gt;</bpt><ept id="4b1550eb-de3e-4e46-a0a9-c8a922e26f29">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="2966ce58-769a-48cb-8306-6998e7db3109" xml:space="preserve">
          <source>The example assumes that there is only one active actor in the Active Actors table and shows the impact of actor method calls, reminders and timers on the lifetime of this actor.</source>
          <target state="new">The example assumes that there is only one active actor in the Active Actors table and shows the impact of actor method calls, reminders and timers on the lifetime of this actor.</target>
        </trans-unit>
        <trans-unit id="d9476308-a192-4dbd-af01-6bb18617a949" xml:space="preserve">
          <source>The following points about the example are worth mentioning:</source>
          <target state="new">The following points about the example are worth mentioning:</target>
        </trans-unit>
        <trans-unit id="5842049f-652a-4410-8954-66e750bedd54" xml:space="preserve">
          <source>ScanInterval and IdleTimeout are set to 5 and 10 respectively in the example (units do not matter here, since our purpose is only to illustrate the concept).</source>
          <target state="new">ScanInterval and IdleTimeout are set to 5 and 10 respectively in the example (units do not matter here, since our purpose is only to illustrate the concept).</target>
        </trans-unit>
        <trans-unit id="dee8d304-3ca3-4f16-8957-dcfc37c9e965" xml:space="preserve">
          <source>The scan for actors to be garbage collected happens at T=0,5,10,15,20,25 as defined by the ScanInterval of 5.</source>
          <target state="new">The scan for actors to be garbage collected happens at T=0,5,10,15,20,25 as defined by the ScanInterval of 5.</target>
        </trans-unit>
        <trans-unit id="3f87a621-faa7-4522-8d90-b5fc59ac0ad7" xml:space="preserve">
          <source>A periodic timer fires at T=4,8,12,16,20,24 and its callback executes.</source>
          <target state="new">A periodic timer fires at T=4,8,12,16,20,24 and its callback executes.</target>
        </trans-unit>
        <trans-unit id="07858338-a90e-4d8e-b2b5-6f25df1b9335" xml:space="preserve">
          <source>It does not impact the idle time of the actor.</source>
          <target state="new">It does not impact the idle time of the actor.</target>
        </trans-unit>
        <trans-unit id="491b3189-e572-4a6a-8f20-3406c1683c3f" xml:space="preserve">
          <source>An actor method call at T=7, resets the idle time to 0 and delays the garbage collection of the actor.</source>
          <target state="new">An actor method call at T=7, resets the idle time to 0 and delays the garbage collection of the actor.</target>
        </trans-unit>
        <trans-unit id="d83bdc67-267f-4be6-b7b3-43d67b502e75" xml:space="preserve">
          <source>An actor reminder callback executes at T=14 and further delays the garbage collection of the actor.</source>
          <target state="new">An actor reminder callback executes at T=14 and further delays the garbage collection of the actor.</target>
        </trans-unit>
        <trans-unit id="3bcf5ba2-0031-4787-8a0a-fd9abc4c53a4" xml:space="preserve">
          <source>During the garbage collection scan at T=25, the actor's idle time finally exceeds the IdleTimeout of 10 and the actor is garbage collected.</source>
          <target state="new">During the garbage collection scan at T=25, the actor's idle time finally exceeds the IdleTimeout of 10 and the actor is garbage collected.</target>
        </trans-unit>
        <trans-unit id="7a37255c-2aee-4de8-affd-0b3604852982" xml:space="preserve">
          <source>Please note that an actor will never get garbage collected while it is executing one of its methods, no matter how much time is spent in executing that method.</source>
          <target state="new">Please note that an actor will never get garbage collected while it is executing one of its methods, no matter how much time is spent in executing that method.</target>
        </trans-unit>
        <trans-unit id="26edb587-ff22-41e9-ba65-889ff9dce5b2" xml:space="preserve">
          <source>As mentioned earlier, the execution of actor interface methods and reminder callbacks prevents garbage collection by resetting the actor's idle time to 0.</source>
          <target state="new">As mentioned earlier, the execution of actor interface methods and reminder callbacks prevents garbage collection by resetting the actor's idle time to 0.</target>
        </trans-unit>
        <trans-unit id="7ed9aa4e-ecac-4ddb-ae08-d64bdf9c7724" xml:space="preserve">
          <source>The execution of timer callbacks does not reset the idle time to 0.</source>
          <target state="new">The execution of timer callbacks does not reset the idle time to 0.</target>
        </trans-unit>
        <trans-unit id="acaef4af-6c70-46b0-9972-aa26d8460b9e" xml:space="preserve">
          <source>However, the garbage collection of the actor is deferred until the timer callback has completed execution.</source>
          <target state="new">However, the garbage collection of the actor is deferred until the timer callback has completed execution.</target>
        </trans-unit>
        <trans-unit id="f2620cb1-2890-4177-8f0b-7093ee22b836" xml:space="preserve">
          <source>./media/service-fabric-reliable-actors-lifecycle/garbage-collection.png</source>
          <target state="new">./media/service-fabric-reliable-actors-lifecycle/garbage-collection.png</target>
        </trans-unit>
      </group>
      <group id="be18a073-3d6e-4349-8398-68935bb3464d" />
    </body>
  </file>
</xliff>