<?xml version="1.0" encoding="utf-8"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" source-language="en-us" target-language="zh-cn" original="foo.file" tool-id="bf5bd9b7-5e9e-4a71-84fc-28e228491a25" product-name="foo" product-version="1.0" build-num="1">
    <header>
      <tool tool-id="bf5bd9b7-5e9e-4a71-84fc-28e228491a25" tool-name="MarkdownToXliff" tool-version="1.0" tool-company="Microsoft" />
    </header>
    <body>
      <group id="4a1cae69-6368-44ef-a1e1-dae89f29d8aa">
        <trans-unit id="a4af8f73-a78f-464b-9730-cbeb8d3c7a43" xml:space="preserve">
          <source>How to delegate user registration and product subscription</source>
          <target state="new">How to delegate user registration and product subscription</target>
        </trans-unit>
        <trans-unit id="73f98864-1261-4e9f-918b-562ba09d37dc" xml:space="preserve">
          <source>Learn how to delegate user registration and product subscription to a third party in Azure API Management.</source>
          <target state="new">Learn how to delegate user registration and product subscription to a third party in Azure API Management.</target>
        </trans-unit>
        <trans-unit id="5200b71f-c2ca-4aee-844e-7281fd5e9414" xml:space="preserve">
          <source>Delegation allows you to use your existing website for handling developer sign-in/sign-up and subscription to products as opposed to using the built-in functionality in the developer portal.</source>
          <target state="new">Delegation allows you to use your existing website for handling developer sign-in/sign-up and subscription to products as opposed to using the built-in functionality in the developer portal.</target>
        </trans-unit>
        <trans-unit id="69a5a27c-a194-4874-93db-836ce167fe9c" xml:space="preserve">
          <source>This enables your website to own the user data and perform the validation of these steps in a custom way.</source>
          <target state="new">This enables your website to own the user data and perform the validation of these steps in a custom way.</target>
        </trans-unit>
        <trans-unit id="bdf3e9c3-700a-4296-9cbe-b2e12fdb32ce" xml:space="preserve">
          <source>To delegate developer sign-in and sign-up to your existing website you will need to create a special delegation endpoint on your site that acts as the entry-point for any such request initiated from the API Management developer portal.</source>
          <target state="new">To delegate developer sign-in and sign-up to your existing website you will need to create a special delegation endpoint on your site that acts as the entry-point for any such request initiated from the API Management developer portal.</target>
        </trans-unit>
        <trans-unit id="0a0f6681-8c7b-4ae9-bcf9-d9dd605b2221" xml:space="preserve">
          <source>The final workflow will be as follows:</source>
          <target state="new">The final workflow will be as follows:</target>
        </trans-unit>
        <trans-unit id="5a0a10b8-71cc-482d-ba71-2fc0a8f26e00" xml:space="preserve">
          <source>Developer clicks on the sign-in or sign-up link at the API Management developer portal</source>
          <target state="new">Developer clicks on the sign-in or sign-up link at the API Management developer portal</target>
        </trans-unit>
        <trans-unit id="ae47c5b1-be97-4381-99a0-46be07ba1f38" xml:space="preserve">
          <source>Browser is redirected to the delegation endpoint</source>
          <target state="new">Browser is redirected to the delegation endpoint</target>
        </trans-unit>
        <trans-unit id="6a3dcc7f-95e8-4dac-828c-cdf2e79a7534" xml:space="preserve">
          <source>Delegation endpoint in return redirects to or presents UI asking user to sign-in or sign-up</source>
          <target state="new">Delegation endpoint in return redirects to or presents UI asking user to sign-in or sign-up</target>
        </trans-unit>
        <trans-unit id="303d6b81-4930-4786-9f5e-b24f4f6f5890" xml:space="preserve">
          <source>On success, the user is redirected back to the API Management developer portal page they started from</source>
          <target state="new">On success, the user is redirected back to the API Management developer portal page they started from</target>
        </trans-unit>
        <trans-unit id="9a67fed6-e9f5-4f02-acb1-49b03de4b043" xml:space="preserve">
          <source>To begin, let's first set-up API Management to route requests via your delegation endpoint. In the API Management publisher portal, click on <bpt id="f0049dd9-e8a1-47d3-af72-989aed0f6f5e">&lt;strong&gt;</bpt>Security<ept id="f0049dd9-e8a1-47d3-af72-989aed0f6f5e">&lt;/strong&gt;</ept> and then click the <bpt id="d4b548fa-efb0-4484-8ff4-2908cdb4f19f">&lt;strong&gt;</bpt>Delegation<ept id="d4b548fa-efb0-4484-8ff4-2908cdb4f19f">&lt;/strong&gt;</ept> tab. Click the checkbox to enable 'Delegate sign-in &amp; sign-up'.</source>
          <target state="new">To begin, let's first set-up API Management to route requests via your delegation endpoint. In the API Management publisher portal, click on <bpt id="f0049dd9-e8a1-47d3-af72-989aed0f6f5e">&lt;strong&gt;</bpt>Security<ept id="f0049dd9-e8a1-47d3-af72-989aed0f6f5e">&lt;/strong&gt;</ept> and then click the <bpt id="d4b548fa-efb0-4484-8ff4-2908cdb4f19f">&lt;strong&gt;</bpt>Delegation<ept id="d4b548fa-efb0-4484-8ff4-2908cdb4f19f">&lt;/strong&gt;</ept> tab. Click the checkbox to enable 'Delegate sign-in &amp; sign-up'.</target>
        </trans-unit>
        <trans-unit id="81da05fb-d584-4747-8463-558f610b1c3c" xml:space="preserve">
          <source><bpt id="2d740872-ae7d-418b-a746-2586d607485b">&lt;linkText&gt;</bpt>Delegation page<ept id="2d740872-ae7d-418b-a746-2586d607485b">&lt;/linkText&gt;</ept></source>
          <target state="new"><bpt id="2d740872-ae7d-418b-a746-2586d607485b">&lt;linkText&gt;</bpt>Delegation page<ept id="2d740872-ae7d-418b-a746-2586d607485b">&lt;/linkText&gt;</ept></target>
        </trans-unit>
        <trans-unit id="05121440-a48d-4aad-8a4a-52d0676f767a" xml:space="preserve">
          <source>Decide what the URL of your special delegation endpoint will be and enter it in the <bpt id="b56e27da-51c6-450a-b431-647a54f8c63d">&lt;strong&gt;</bpt>Delegation endpoint URL<ept id="b56e27da-51c6-450a-b431-647a54f8c63d">&lt;/strong&gt;</ept> field.</source>
          <target state="new">Decide what the URL of your special delegation endpoint will be and enter it in the <bpt id="b56e27da-51c6-450a-b431-647a54f8c63d">&lt;strong&gt;</bpt>Delegation endpoint URL<ept id="b56e27da-51c6-450a-b431-647a54f8c63d">&lt;/strong&gt;</ept> field.</target>
        </trans-unit>
        <trans-unit id="06412dcd-4786-46bf-901c-5cc1fdd66d2f" xml:space="preserve">
          <source>Within the <bpt id="4a43a1cf-091e-469a-a486-5b4173e1c13e">&lt;strong&gt;</bpt>Delegation authentication key<ept id="4a43a1cf-091e-469a-a486-5b4173e1c13e">&lt;/strong&gt;</ept> field enter a secret that will be used to compute a signature provided to you for verification to ensure that the request is indeed coming from Azure API Management.</source>
          <target state="new">Within the <bpt id="4a43a1cf-091e-469a-a486-5b4173e1c13e">&lt;strong&gt;</bpt>Delegation authentication key<ept id="4a43a1cf-091e-469a-a486-5b4173e1c13e">&lt;/strong&gt;</ept> field enter a secret that will be used to compute a signature provided to you for verification to ensure that the request is indeed coming from Azure API Management.</target>
        </trans-unit>
        <trans-unit id="107b1656-cfdd-48fa-8c3d-e18adf83d210" xml:space="preserve">
          <source>You can click the <bpt id="3c7b3bc2-9571-4214-81d9-efe36cfa6883">&lt;strong&gt;</bpt>generate<ept id="3c7b3bc2-9571-4214-81d9-efe36cfa6883">&lt;/strong&gt;</ept> button to have API Managemnet randomly generate a key for you.</source>
          <target state="new">You can click the <bpt id="3c7b3bc2-9571-4214-81d9-efe36cfa6883">&lt;strong&gt;</bpt>generate<ept id="3c7b3bc2-9571-4214-81d9-efe36cfa6883">&lt;/strong&gt;</ept> button to have API Managemnet randomly generate a key for you.</target>
        </trans-unit>
        <trans-unit id="8d64803e-b05b-475a-b0a1-41d1bee85604" xml:space="preserve">
          <source>Now you need to create the <bpt id="118e6122-81a0-4e52-85f4-806094f9a853">&lt;strong&gt;</bpt>delegation endpoint<ept id="118e6122-81a0-4e52-85f4-806094f9a853">&lt;/strong&gt;</ept>.</source>
          <target state="new">Now you need to create the <bpt id="118e6122-81a0-4e52-85f4-806094f9a853">&lt;strong&gt;</bpt>delegation endpoint<ept id="118e6122-81a0-4e52-85f4-806094f9a853">&lt;/strong&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="e9d17b9b-6dff-4465-abef-7bbfcef87552" xml:space="preserve">
          <source>It has to perform a number of actions:</source>
          <target state="new">It has to perform a number of actions:</target>
        </trans-unit>
        <trans-unit id="1a32012c-b766-4e73-89b1-e6b5e1c74cef" xml:space="preserve">
          <source>Receive a request in the following form:</source>
          <target state="new">Receive a request in the following form:</target>
        </trans-unit>
        <trans-unit id="cd462415-1939-4b76-972e-269adcc03ce6" xml:space="preserve">
          <source><bpt id="37018456-3645-4940-8582-908e81f8195a">&lt;em&gt;</bpt>http://www.yourwebsite.com/apimdelegation?operation=SignIn&amp;returnUrl={URL of source page}&amp;salt={string}&amp;sig={string}<ept id="37018456-3645-4940-8582-908e81f8195a">&lt;/em&gt;</ept></source>
          <target state="new"><bpt id="37018456-3645-4940-8582-908e81f8195a">&lt;em&gt;</bpt>http://www.yourwebsite.com/apimdelegation?operation=SignIn&amp;returnUrl={URL of source page}&amp;salt={string}&amp;sig={string}<ept id="37018456-3645-4940-8582-908e81f8195a">&lt;/em&gt;</ept></target>
        </trans-unit>
        <trans-unit id="49adb8ff-413e-4e4c-ae96-378096ce79ea" xml:space="preserve">
          <source>Query parameters for the sign-in / sign-up case:</source>
          <target state="new">Query parameters for the sign-in / sign-up case:</target>
        </trans-unit>
        <trans-unit id="da51d5d9-7ace-45d9-bf14-f7c1679c7c14" xml:space="preserve">
          <source><bpt id="072b92d2-913a-48ca-99fa-a2fcfc1477ad">&lt;strong&gt;</bpt>operation<ept id="072b92d2-913a-48ca-99fa-a2fcfc1477ad">&lt;/strong&gt;</ept>: identifies what type of delegation request it is - it can only be <bpt id="dff721b7-be02-413d-97ed-84ccce489222">&lt;strong&gt;</bpt>SignIn<ept id="dff721b7-be02-413d-97ed-84ccce489222">&lt;/strong&gt;</ept> in this case</source>
          <target state="new"><bpt id="072b92d2-913a-48ca-99fa-a2fcfc1477ad">&lt;strong&gt;</bpt>operation<ept id="072b92d2-913a-48ca-99fa-a2fcfc1477ad">&lt;/strong&gt;</ept>: identifies what type of delegation request it is - it can only be <bpt id="dff721b7-be02-413d-97ed-84ccce489222">&lt;strong&gt;</bpt>SignIn<ept id="dff721b7-be02-413d-97ed-84ccce489222">&lt;/strong&gt;</ept> in this case</target>
        </trans-unit>
        <trans-unit id="2134571a-ed40-4456-9e31-8ea2eb1cfe26" xml:space="preserve">
          <source><bpt id="450f90b7-b133-4827-8f54-b1e26c3772a7">&lt;strong&gt;</bpt>returnUrl<ept id="450f90b7-b133-4827-8f54-b1e26c3772a7">&lt;/strong&gt;</ept>: the URL of the page where the user clicked on a sign-in or sign-up link</source>
          <target state="new"><bpt id="450f90b7-b133-4827-8f54-b1e26c3772a7">&lt;strong&gt;</bpt>returnUrl<ept id="450f90b7-b133-4827-8f54-b1e26c3772a7">&lt;/strong&gt;</ept>: the URL of the page where the user clicked on a sign-in or sign-up link</target>
        </trans-unit>
        <trans-unit id="76bdd06e-c363-4691-8572-875f1daedc8d" xml:space="preserve">
          <source><bpt id="55615ff9-1e19-4300-af21-2838ba6ab04f">&lt;strong&gt;</bpt>salt<ept id="55615ff9-1e19-4300-af21-2838ba6ab04f">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</source>
          <target state="new"><bpt id="55615ff9-1e19-4300-af21-2838ba6ab04f">&lt;strong&gt;</bpt>salt<ept id="55615ff9-1e19-4300-af21-2838ba6ab04f">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</target>
        </trans-unit>
        <trans-unit id="9c914051-ff8d-4fd7-9903-5114d2caf922" xml:space="preserve">
          <source><bpt id="c8f06450-59f4-43a1-8eea-de80e5fed9da">&lt;strong&gt;</bpt>sig<ept id="c8f06450-59f4-43a1-8eea-de80e5fed9da">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</source>
          <target state="new"><bpt id="c8f06450-59f4-43a1-8eea-de80e5fed9da">&lt;strong&gt;</bpt>sig<ept id="c8f06450-59f4-43a1-8eea-de80e5fed9da">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</target>
        </trans-unit>
        <trans-unit id="7cd3067b-a891-48ec-a2c8-44024300177d" xml:space="preserve">
          <source>Verify that the request is coming from Azure API Management (optional, but highly recommended for security)</source>
          <target state="new">Verify that the request is coming from Azure API Management (optional, but highly recommended for security)</target>
        </trans-unit>
        <trans-unit id="678bfe57-0e58-479b-95b7-246840d0ad9c" xml:space="preserve">
          <source>Compute an HMAC-SHA512 hash of a string based on the <bpt id="c5aaab42-d226-432e-830b-646bf286fe84">&lt;strong&gt;</bpt>returnUrl<ept id="c5aaab42-d226-432e-830b-646bf286fe84">&lt;/strong&gt;</ept> and <bpt id="2b674ac9-c4ed-4725-91ac-37022195c20e">&lt;strong&gt;</bpt>salt<ept id="2b674ac9-c4ed-4725-91ac-37022195c20e">&lt;/strong&gt;</ept> query parameters ([example code provided below]):</source>
          <target state="new">Compute an HMAC-SHA512 hash of a string based on the <bpt id="c5aaab42-d226-432e-830b-646bf286fe84">&lt;strong&gt;</bpt>returnUrl<ept id="c5aaab42-d226-432e-830b-646bf286fe84">&lt;/strong&gt;</ept> and <bpt id="2b674ac9-c4ed-4725-91ac-37022195c20e">&lt;strong&gt;</bpt>salt<ept id="2b674ac9-c4ed-4725-91ac-37022195c20e">&lt;/strong&gt;</ept> query parameters ([example code provided below]):</target>
        </trans-unit>
        <trans-unit id="a728814a-2364-4951-911c-8e3278d6da25" xml:space="preserve">
          <source>HMAC(<bpt id="93a0c614-9c33-41e1-b3d5-3e9ed95f2f6c">&lt;strong&gt;</bpt>salt<ept id="93a0c614-9c33-41e1-b3d5-3e9ed95f2f6c">&lt;/strong&gt;</ept> + '\n' + <bpt id="15924684-b0c2-4b51-a936-c37ad28c0a84">&lt;strong&gt;</bpt>returnUrl<ept id="15924684-b0c2-4b51-a936-c37ad28c0a84">&lt;/strong&gt;</ept>)</source>
          <target state="new">HMAC(<bpt id="93a0c614-9c33-41e1-b3d5-3e9ed95f2f6c">&lt;strong&gt;</bpt>salt<ept id="93a0c614-9c33-41e1-b3d5-3e9ed95f2f6c">&lt;/strong&gt;</ept> + '\n' + <bpt id="15924684-b0c2-4b51-a936-c37ad28c0a84">&lt;strong&gt;</bpt>returnUrl<ept id="15924684-b0c2-4b51-a936-c37ad28c0a84">&lt;/strong&gt;</ept>)</target>
        </trans-unit>
        <trans-unit id="95008c76-4b68-450f-a5d4-0c9d877d0562" xml:space="preserve">
          <source>Compare the above-computed hash to the value of the <bpt id="49a464ba-3699-48aa-8929-ba7f818d81a6">&lt;strong&gt;</bpt>sig<ept id="49a464ba-3699-48aa-8929-ba7f818d81a6">&lt;/strong&gt;</ept> query parameter.</source>
          <target state="new">Compare the above-computed hash to the value of the <bpt id="49a464ba-3699-48aa-8929-ba7f818d81a6">&lt;strong&gt;</bpt>sig<ept id="49a464ba-3699-48aa-8929-ba7f818d81a6">&lt;/strong&gt;</ept> query parameter.</target>
        </trans-unit>
        <trans-unit id="308673d2-0414-4f6c-a90d-b4aecdf427fb" xml:space="preserve">
          <source>If the two hashes match, move on to the next step, otherwise deny the request.</source>
          <target state="new">If the two hashes match, move on to the next step, otherwise deny the request.</target>
        </trans-unit>
        <trans-unit id="3fdcd7cc-dcef-4d70-8724-487f171333ca" xml:space="preserve">
          <source>Verify that you are receiving a request for sign-in/sign-up: the <bpt id="ac09005d-b41a-411b-9af7-7be769eac080">&lt;strong&gt;</bpt>operation<ept id="ac09005d-b41a-411b-9af7-7be769eac080">&lt;/strong&gt;</ept> query parameter will be set to "<bpt id="015337d6-be11-49e8-a00f-1967c0c17a77">&lt;strong&gt;</bpt>SignIn<ept id="015337d6-be11-49e8-a00f-1967c0c17a77">&lt;/strong&gt;</ept>".</source>
          <target state="new">Verify that you are receiving a request for sign-in/sign-up: the <bpt id="ac09005d-b41a-411b-9af7-7be769eac080">&lt;strong&gt;</bpt>operation<ept id="ac09005d-b41a-411b-9af7-7be769eac080">&lt;/strong&gt;</ept> query parameter will be set to "<bpt id="015337d6-be11-49e8-a00f-1967c0c17a77">&lt;strong&gt;</bpt>SignIn<ept id="015337d6-be11-49e8-a00f-1967c0c17a77">&lt;/strong&gt;</ept>".</target>
        </trans-unit>
        <trans-unit id="6e558c46-e37c-472b-a8c6-8ef4bfc6b180" xml:space="preserve">
          <source>Present the user with UI to sign-in or sign-up</source>
          <target state="new">Present the user with UI to sign-in or sign-up</target>
        </trans-unit>
        <trans-unit id="363daefa-1608-4b85-8ef0-737b90d6ac14" xml:space="preserve">
          <source>If the user is signing-up you have to create a corresponding account for them in API Management.</source>
          <target state="new">If the user is signing-up you have to create a corresponding account for them in API Management.</target>
        </trans-unit>
        <trans-unit id="3788b96a-376e-41ad-a8e6-c15807656e3d" xml:space="preserve">
          <source>[Create a user] with the API Management REST API.</source>
          <target state="new">[Create a user] with the API Management REST API.</target>
        </trans-unit>
        <trans-unit id="1ba5cab8-1e4e-4a28-a743-4f5837e9fcf5" xml:space="preserve">
          <source>When doing so, ensure that you set the user ID to the same it is in your user store or to an ID that you can keep track of.</source>
          <target state="new">When doing so, ensure that you set the user ID to the same it is in your user store or to an ID that you can keep track of.</target>
        </trans-unit>
        <trans-unit id="c22afb38-3d83-4658-b892-802ba1deba8b" xml:space="preserve">
          <source>When the user is successfully authenticated:</source>
          <target state="new">When the user is successfully authenticated:</target>
        </trans-unit>
        <trans-unit id="bfc02d68-e5f9-4a0e-9d06-1f235003252c" xml:space="preserve">
          <source>[request a single-sign-on (SSO) token] via the API Management REST API</source>
          <target state="new">[request a single-sign-on (SSO) token] via the API Management REST API</target>
        </trans-unit>
        <trans-unit id="608b4653-e442-4109-8c82-6448cf49afd7" xml:space="preserve">
          <source>append a returnUrl query parameter to the SSO URL you have received from the API call above:</source>
          <target state="new">append a returnUrl query parameter to the SSO URL you have received from the API call above:</target>
        </trans-unit>
        <trans-unit id="461e177a-591e-475b-908b-ba86aa738dab" xml:space="preserve">
          <source>e.g. https://customer.portal.azure-api.net/signin-sso?token&amp;returnUrl=/return/url </source>
          <target state="new">e.g. https://customer.portal.azure-api.net/signin-sso?token&amp;returnUrl=/return/url </target>
        </trans-unit>
        <trans-unit id="0ff03e0b-ac93-4b13-b96c-3e4ff3752ee5" xml:space="preserve">
          <source>redirect the user to the above produced URL</source>
          <target state="new">redirect the user to the above produced URL</target>
        </trans-unit>
        <trans-unit id="18a27d4c-b38d-4668-86dc-f5446bd89669" xml:space="preserve">
          <source>In addition to the <bpt id="8f77a826-d43e-43d8-8839-b1e1b6d72ede">&lt;strong&gt;</bpt>SignIn<ept id="8f77a826-d43e-43d8-8839-b1e1b6d72ede">&lt;/strong&gt;</ept> operation, you can also perform account management by following the previous steps and using one of the following operations.</source>
          <target state="new">In addition to the <bpt id="8f77a826-d43e-43d8-8839-b1e1b6d72ede">&lt;strong&gt;</bpt>SignIn<ept id="8f77a826-d43e-43d8-8839-b1e1b6d72ede">&lt;/strong&gt;</ept> operation, you can also perform account management by following the previous steps and using one of the following operations.</target>
        </trans-unit>
        <trans-unit id="0c54f662-4229-4549-b7ba-ac66727e3993" xml:space="preserve">
          <source><bpt id="71b4f905-a3b6-473e-a876-86445e8cf3d3">&lt;strong&gt;</bpt>ChangePassword<ept id="71b4f905-a3b6-473e-a876-86445e8cf3d3">&lt;/strong&gt;</ept></source>
          <target state="new"><bpt id="71b4f905-a3b6-473e-a876-86445e8cf3d3">&lt;strong&gt;</bpt>ChangePassword<ept id="71b4f905-a3b6-473e-a876-86445e8cf3d3">&lt;/strong&gt;</ept></target>
        </trans-unit>
        <trans-unit id="9dba0cbb-3662-4620-924c-e5f0f9489181" xml:space="preserve">
          <source><bpt id="1cdca195-91d1-44c3-b22e-3463547e8d15">&lt;strong&gt;</bpt>ChangeProfile<ept id="1cdca195-91d1-44c3-b22e-3463547e8d15">&lt;/strong&gt;</ept></source>
          <target state="new"><bpt id="1cdca195-91d1-44c3-b22e-3463547e8d15">&lt;strong&gt;</bpt>ChangeProfile<ept id="1cdca195-91d1-44c3-b22e-3463547e8d15">&lt;/strong&gt;</ept></target>
        </trans-unit>
        <trans-unit id="9e884501-1410-45ec-8f53-324060fc92a5" xml:space="preserve">
          <source><bpt id="d75abb0c-0e82-4602-b11a-61254fa5ff09">&lt;strong&gt;</bpt>CloseAccount<ept id="d75abb0c-0e82-4602-b11a-61254fa5ff09">&lt;/strong&gt;</ept></source>
          <target state="new"><bpt id="d75abb0c-0e82-4602-b11a-61254fa5ff09">&lt;strong&gt;</bpt>CloseAccount<ept id="d75abb0c-0e82-4602-b11a-61254fa5ff09">&lt;/strong&gt;</ept></target>
        </trans-unit>
        <trans-unit id="6006fd66-baba-44f6-bd35-0aa338045f1f" xml:space="preserve">
          <source>You must pass the following query parameters for account management operations.</source>
          <target state="new">You must pass the following query parameters for account management operations.</target>
        </trans-unit>
        <trans-unit id="9e495ea4-883f-47e6-8340-fa195ecf4c59" xml:space="preserve">
          <source><bpt id="8eda926f-c68a-4fed-9941-542fe6f4ce90">&lt;strong&gt;</bpt>operation<ept id="8eda926f-c68a-4fed-9941-542fe6f4ce90">&lt;/strong&gt;</ept>: identifies what type of delegation request it is (ChangePassword, ChangeProfile, or CloseAccount)</source>
          <target state="new"><bpt id="8eda926f-c68a-4fed-9941-542fe6f4ce90">&lt;strong&gt;</bpt>operation<ept id="8eda926f-c68a-4fed-9941-542fe6f4ce90">&lt;/strong&gt;</ept>: identifies what type of delegation request it is (ChangePassword, ChangeProfile, or CloseAccount)</target>
        </trans-unit>
        <trans-unit id="7ff47a4b-78c2-472e-b2fb-7a9f5bc8b128" xml:space="preserve">
          <source><bpt id="c4e9c0d9-f56b-4cfa-8b49-a058482abf6d">&lt;strong&gt;</bpt>userId<ept id="c4e9c0d9-f56b-4cfa-8b49-a058482abf6d">&lt;/strong&gt;</ept>: the user id of the account to manage</source>
          <target state="new"><bpt id="c4e9c0d9-f56b-4cfa-8b49-a058482abf6d">&lt;strong&gt;</bpt>userId<ept id="c4e9c0d9-f56b-4cfa-8b49-a058482abf6d">&lt;/strong&gt;</ept>: the user id of the account to manage</target>
        </trans-unit>
        <trans-unit id="4975df6f-6322-443a-bee6-18806d1bfc48" xml:space="preserve">
          <source><bpt id="d2925af1-2df4-4b4b-95fa-5965848e4a0f">&lt;strong&gt;</bpt>salt<ept id="d2925af1-2df4-4b4b-95fa-5965848e4a0f">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</source>
          <target state="new"><bpt id="d2925af1-2df4-4b4b-95fa-5965848e4a0f">&lt;strong&gt;</bpt>salt<ept id="d2925af1-2df4-4b4b-95fa-5965848e4a0f">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</target>
        </trans-unit>
        <trans-unit id="ae5d286a-9132-4347-9c23-c066eaefa528" xml:space="preserve">
          <source><bpt id="985615a3-5bd7-4e02-a53f-4759c7fba596">&lt;strong&gt;</bpt>sig<ept id="985615a3-5bd7-4e02-a53f-4759c7fba596">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</source>
          <target state="new"><bpt id="985615a3-5bd7-4e02-a53f-4759c7fba596">&lt;strong&gt;</bpt>sig<ept id="985615a3-5bd7-4e02-a53f-4759c7fba596">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</target>
        </trans-unit>
        <trans-unit id="9b1f8a43-56e1-44f2-b6ce-2d9c7a6533c7" xml:space="preserve">
          <source>Delegating product subscription works similarly to delegating user sign-in/-up.</source>
          <target state="new">Delegating product subscription works similarly to delegating user sign-in/-up.</target>
        </trans-unit>
        <trans-unit id="87cc95ec-3f80-4776-828c-021b6f47825f" xml:space="preserve">
          <source>The final workflow would be as follows:</source>
          <target state="new">The final workflow would be as follows:</target>
        </trans-unit>
        <trans-unit id="f3b2b6fd-22f4-4707-af5b-98920dbcfb5b" xml:space="preserve">
          <source>Developer selects a product in the API Management developer portal and clicks on the Subscribe button</source>
          <target state="new">Developer selects a product in the API Management developer portal and clicks on the Subscribe button</target>
        </trans-unit>
        <trans-unit id="ac42f6c1-66d3-46c8-9463-5d80492b8b9b" xml:space="preserve">
          <source>Browser is redirected to the delegation endpoint</source>
          <target state="new">Browser is redirected to the delegation endpoint</target>
        </trans-unit>
        <trans-unit id="9bb632d3-ab1f-4119-a4b7-5a90e477b64f" xml:space="preserve">
          <source>Delegation endpoint performs required product subscription steps - this is up to you and may entail redirecting to another page to request billing information, asking additional questions, or simply storing the information and not requiring any user action</source>
          <target state="new">Delegation endpoint performs required product subscription steps - this is up to you and may entail redirecting to another page to request billing information, asking additional questions, or simply storing the information and not requiring any user action</target>
        </trans-unit>
        <trans-unit id="0cfefa15-654c-4842-90cc-8513a1101f4f" xml:space="preserve">
          <source>On success, the user is redirected back to the API Management developer portal page they started from</source>
          <target state="new">On success, the user is redirected back to the API Management developer portal page they started from</target>
        </trans-unit>
        <trans-unit id="0990829a-a977-438e-843c-b0835ea56b96" xml:space="preserve">
          <source>To enable the functionality, on the <bpt id="bbfee77c-c733-445b-878f-97aadb8c8dfd">&lt;strong&gt;</bpt>Delegation<ept id="bbfee77c-c733-445b-878f-97aadb8c8dfd">&lt;/strong&gt;</ept> page click <bpt id="0e5e40b8-13dc-4084-af85-2f0406aca6b5">&lt;strong&gt;</bpt>Delegate product subscription<ept id="0e5e40b8-13dc-4084-af85-2f0406aca6b5">&lt;/strong&gt;</ept>.</source>
          <target state="new">To enable the functionality, on the <bpt id="bbfee77c-c733-445b-878f-97aadb8c8dfd">&lt;strong&gt;</bpt>Delegation<ept id="bbfee77c-c733-445b-878f-97aadb8c8dfd">&lt;/strong&gt;</ept> page click <bpt id="0e5e40b8-13dc-4084-af85-2f0406aca6b5">&lt;strong&gt;</bpt>Delegate product subscription<ept id="0e5e40b8-13dc-4084-af85-2f0406aca6b5">&lt;/strong&gt;</ept>.</target>
        </trans-unit>
        <trans-unit id="52265fdd-a32b-4088-96dc-a613fcb52ac6" xml:space="preserve">
          <source>Then ensure the delegation endpoint performs the following actions:</source>
          <target state="new">Then ensure the delegation endpoint performs the following actions:</target>
        </trans-unit>
        <trans-unit id="9dd13b0a-3d1f-4d45-b5f1-376f0ea77983" xml:space="preserve">
          <source>Receive a request in the following form:</source>
          <target state="new">Receive a request in the following form:</target>
        </trans-unit>
        <trans-unit id="f24c502f-16ef-4366-9642-fb55322b1cc3" xml:space="preserve">
          <source><bpt id="061f4af2-9c4f-421e-a9c7-594a2154b502">&lt;em&gt;</bpt>http://www.yourwebsite.com/apimdelegation?operation={operation}&amp;productId={product to subscribe to}&amp;userId={user making request}&amp;salt={string}&amp;sig={string}<ept id="061f4af2-9c4f-421e-a9c7-594a2154b502">&lt;/em&gt;</ept></source>
          <target state="new"><bpt id="061f4af2-9c4f-421e-a9c7-594a2154b502">&lt;em&gt;</bpt>http://www.yourwebsite.com/apimdelegation?operation={operation}&amp;productId={product to subscribe to}&amp;userId={user making request}&amp;salt={string}&amp;sig={string}<ept id="061f4af2-9c4f-421e-a9c7-594a2154b502">&lt;/em&gt;</ept></target>
        </trans-unit>
        <trans-unit id="8232a56e-f3ff-4220-bedf-1241eafc2a2d" xml:space="preserve">
          <source>Query parameters for the product subscription case:</source>
          <target state="new">Query parameters for the product subscription case:</target>
        </trans-unit>
        <trans-unit id="0c71ec8e-0207-4ffe-b6bc-a3c69b04b663" xml:space="preserve">
          <source><bpt id="d196e721-15a5-4a60-92c5-d6f465456465">&lt;strong&gt;</bpt>operation<ept id="d196e721-15a5-4a60-92c5-d6f465456465">&lt;/strong&gt;</ept>: identifies what type of delegation request it is.</source>
          <target state="new"><bpt id="d196e721-15a5-4a60-92c5-d6f465456465">&lt;strong&gt;</bpt>operation<ept id="d196e721-15a5-4a60-92c5-d6f465456465">&lt;/strong&gt;</ept>: identifies what type of delegation request it is.</target>
        </trans-unit>
        <trans-unit id="004feaec-f74c-41c5-9256-b9b18eb25224" xml:space="preserve">
          <source>For product subscription requests the valid options are:</source>
          <target state="new">For product subscription requests the valid options are:</target>
        </trans-unit>
        <trans-unit id="1bd8cb0f-d512-4454-a493-8ad4b531fb90" xml:space="preserve">
          <source>"Subscribe": a request to subscribe the user to a given product with provided ID (see below)</source>
          <target state="new">"Subscribe": a request to subscribe the user to a given product with provided ID (see below)</target>
        </trans-unit>
        <trans-unit id="7bdc8dbe-0ede-4c9a-b143-4d8ca12a71f1" xml:space="preserve">
          <source>"Unsubscribe": a request to unsubscribe a user from a product</source>
          <target state="new">"Unsubscribe": a request to unsubscribe a user from a product</target>
        </trans-unit>
        <trans-unit id="df7dea7e-4de3-4b5a-a368-d6213594d545" xml:space="preserve">
          <source>"Renew": a requst to renew a subscription (e.g. that may be expiring)</source>
          <target state="new">"Renew": a requst to renew a subscription (e.g. that may be expiring)</target>
        </trans-unit>
        <trans-unit id="9e7c1519-33e1-4a6e-9558-b48c02061904" xml:space="preserve">
          <source><bpt id="8741b965-5796-4c91-9102-0a6e498810d8">&lt;strong&gt;</bpt>productId<ept id="8741b965-5796-4c91-9102-0a6e498810d8">&lt;/strong&gt;</ept>: the ID of the product the user requested to subscribe to</source>
          <target state="new"><bpt id="8741b965-5796-4c91-9102-0a6e498810d8">&lt;strong&gt;</bpt>productId<ept id="8741b965-5796-4c91-9102-0a6e498810d8">&lt;/strong&gt;</ept>: the ID of the product the user requested to subscribe to</target>
        </trans-unit>
        <trans-unit id="7b98e67b-01c0-4e44-b100-70df08ad628e" xml:space="preserve">
          <source><bpt id="58b024dc-4516-46d6-af9b-f0c67c6b050a">&lt;strong&gt;</bpt>userId<ept id="58b024dc-4516-46d6-af9b-f0c67c6b050a">&lt;/strong&gt;</ept>: the ID of the user for whom the request is made</source>
          <target state="new"><bpt id="58b024dc-4516-46d6-af9b-f0c67c6b050a">&lt;strong&gt;</bpt>userId<ept id="58b024dc-4516-46d6-af9b-f0c67c6b050a">&lt;/strong&gt;</ept>: the ID of the user for whom the request is made</target>
        </trans-unit>
        <trans-unit id="33c13b9b-2986-479d-ab48-8df845466249" xml:space="preserve">
          <source><bpt id="d026bb77-1e39-444d-9d6c-3d944b250692">&lt;strong&gt;</bpt>salt<ept id="d026bb77-1e39-444d-9d6c-3d944b250692">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</source>
          <target state="new"><bpt id="d026bb77-1e39-444d-9d6c-3d944b250692">&lt;strong&gt;</bpt>salt<ept id="d026bb77-1e39-444d-9d6c-3d944b250692">&lt;/strong&gt;</ept>: a special salt string used for computing a security hash</target>
        </trans-unit>
        <trans-unit id="7a4f909f-4274-4b39-a18e-a7b81d904d4a" xml:space="preserve">
          <source><bpt id="2706dd22-0dc4-4761-8bf2-312943509e5e">&lt;strong&gt;</bpt>sig<ept id="2706dd22-0dc4-4761-8bf2-312943509e5e">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</source>
          <target state="new"><bpt id="2706dd22-0dc4-4761-8bf2-312943509e5e">&lt;strong&gt;</bpt>sig<ept id="2706dd22-0dc4-4761-8bf2-312943509e5e">&lt;/strong&gt;</ept>: a computed security hash to be used for comparison to your own computed hash</target>
        </trans-unit>
        <trans-unit id="5df2fd8d-3f99-4db0-b878-0e97fb09f08c" xml:space="preserve">
          <source>Verify that the request is coming from Azure API Management (optional, but highly recommended for security)</source>
          <target state="new">Verify that the request is coming from Azure API Management (optional, but highly recommended for security)</target>
        </trans-unit>
        <trans-unit id="837c835c-13e2-4015-a522-40b62997d5b3" xml:space="preserve">
          <source>Compute an HMAC-SHA512 of a string based on the <bpt id="e4e61711-e829-4ee4-989f-7a5db55b0288">&lt;strong&gt;</bpt>productId<ept id="e4e61711-e829-4ee4-989f-7a5db55b0288">&lt;/strong&gt;</ept>, <bpt id="fde59aa0-d5d6-4e24-83b4-145a1f433622">&lt;strong&gt;</bpt>userId<ept id="fde59aa0-d5d6-4e24-83b4-145a1f433622">&lt;/strong&gt;</ept> and <bpt id="a649ae08-dbf0-43dc-a441-d9cfb98c9801">&lt;strong&gt;</bpt>salt<ept id="a649ae08-dbf0-43dc-a441-d9cfb98c9801">&lt;/strong&gt;</ept> query parameters:</source>
          <target state="new">Compute an HMAC-SHA512 of a string based on the <bpt id="e4e61711-e829-4ee4-989f-7a5db55b0288">&lt;strong&gt;</bpt>productId<ept id="e4e61711-e829-4ee4-989f-7a5db55b0288">&lt;/strong&gt;</ept>, <bpt id="fde59aa0-d5d6-4e24-83b4-145a1f433622">&lt;strong&gt;</bpt>userId<ept id="fde59aa0-d5d6-4e24-83b4-145a1f433622">&lt;/strong&gt;</ept> and <bpt id="a649ae08-dbf0-43dc-a441-d9cfb98c9801">&lt;strong&gt;</bpt>salt<ept id="a649ae08-dbf0-43dc-a441-d9cfb98c9801">&lt;/strong&gt;</ept> query parameters:</target>
        </trans-unit>
        <trans-unit id="a4509b14-a238-460d-bd98-65616fb67710" xml:space="preserve">
          <source>HMAC(<bpt id="ad700aac-40c9-4449-9861-77b62ff4d31b">&lt;strong&gt;</bpt>salt<ept id="ad700aac-40c9-4449-9861-77b62ff4d31b">&lt;/strong&gt;</ept> + '\n' + <bpt id="e2e80a22-db63-489d-8380-93c13550d3b4">&lt;strong&gt;</bpt>productId<ept id="e2e80a22-db63-489d-8380-93c13550d3b4">&lt;/strong&gt;</ept> + '\n' + <bpt id="c4da56b3-b30d-4a8e-8842-c19499e341a2">&lt;strong&gt;</bpt>userId<ept id="c4da56b3-b30d-4a8e-8842-c19499e341a2">&lt;/strong&gt;</ept>)</source>
          <target state="new">HMAC(<bpt id="ad700aac-40c9-4449-9861-77b62ff4d31b">&lt;strong&gt;</bpt>salt<ept id="ad700aac-40c9-4449-9861-77b62ff4d31b">&lt;/strong&gt;</ept> + '\n' + <bpt id="e2e80a22-db63-489d-8380-93c13550d3b4">&lt;strong&gt;</bpt>productId<ept id="e2e80a22-db63-489d-8380-93c13550d3b4">&lt;/strong&gt;</ept> + '\n' + <bpt id="c4da56b3-b30d-4a8e-8842-c19499e341a2">&lt;strong&gt;</bpt>userId<ept id="c4da56b3-b30d-4a8e-8842-c19499e341a2">&lt;/strong&gt;</ept>)</target>
        </trans-unit>
        <trans-unit id="82eb028c-ad84-4159-8c91-3bd02ec1a607" xml:space="preserve">
          <source>Compare the above-computed hash to the value of the <bpt id="f3409c5e-2fdf-4d47-9e20-14e119b98dee">&lt;strong&gt;</bpt>sig<ept id="f3409c5e-2fdf-4d47-9e20-14e119b98dee">&lt;/strong&gt;</ept> query parameter.</source>
          <target state="new">Compare the above-computed hash to the value of the <bpt id="f3409c5e-2fdf-4d47-9e20-14e119b98dee">&lt;strong&gt;</bpt>sig<ept id="f3409c5e-2fdf-4d47-9e20-14e119b98dee">&lt;/strong&gt;</ept> query parameter.</target>
        </trans-unit>
        <trans-unit id="99c3d44f-5578-41b4-be69-6d7f56d97d17" xml:space="preserve">
          <source>If the two hashes match, move on to the next step, otherwise deny the request.</source>
          <target state="new">If the two hashes match, move on to the next step, otherwise deny the request.</target>
        </trans-unit>
        <trans-unit id="2752c9cc-094e-42b4-9223-abe8d73cbc49" xml:space="preserve">
          <source>Perform any product subscription processing based on the type of operation requested in <bpt id="cd87234f-a8c9-4fcc-8ede-51d16ce95b40">&lt;strong&gt;</bpt>operation<ept id="cd87234f-a8c9-4fcc-8ede-51d16ce95b40">&lt;/strong&gt;</ept> - e.g. billing, further questions, etc.</source>
          <target state="new">Perform any product subscription processing based on the type of operation requested in <bpt id="cd87234f-a8c9-4fcc-8ede-51d16ce95b40">&lt;strong&gt;</bpt>operation<ept id="cd87234f-a8c9-4fcc-8ede-51d16ce95b40">&lt;/strong&gt;</ept> - e.g. billing, further questions, etc.</target>
        </trans-unit>
        <trans-unit id="00bffd77-d9ec-4242-9162-24eb973f46d5" xml:space="preserve">
          <source>On successfully subscribing the user to the product on your side, subscribe the user to the API Management product by [calling the REST API for product subscription].</source>
          <target state="new">On successfully subscribing the user to the product on your side, subscribe the user to the API Management product by [calling the REST API for product subscription].</target>
        </trans-unit>
        <trans-unit id="e936be9f-beb3-48d3-844f-d71e59fddd98" xml:space="preserve">
          <source>Redirect the user back to the <bpt id="d6ffdebb-72c6-4983-a174-902198289d76">&lt;strong&gt;</bpt>returnUrl<ept id="d6ffdebb-72c6-4983-a174-902198289d76">&lt;/strong&gt;</ept> provided when receiving the request.</source>
          <target state="new">Redirect the user back to the <bpt id="d6ffdebb-72c6-4983-a174-902198289d76">&lt;strong&gt;</bpt>returnUrl<ept id="d6ffdebb-72c6-4983-a174-902198289d76">&lt;/strong&gt;</ept> provided when receiving the request.</target>
        </trans-unit>
        <trans-unit id="698ab3ad-0a48-4c1f-8d95-781c3098287d" xml:space="preserve">
          <source>These code samples show how to take the <bpt id="b8466c43-3874-4373-b0d9-afcfaed7a85e">&lt;em&gt;</bpt>delegation validation key<ept id="b8466c43-3874-4373-b0d9-afcfaed7a85e">&lt;/em&gt;</ept>, which is set in the Delegation screen of the API Management portal, to create a HMAC which is then used to validate the signature, proving the validity of the passed returnUrl.</source>
          <target state="new">These code samples show how to take the <bpt id="b8466c43-3874-4373-b0d9-afcfaed7a85e">&lt;em&gt;</bpt>delegation validation key<ept id="b8466c43-3874-4373-b0d9-afcfaed7a85e">&lt;/em&gt;</ept>, which is set in the Delegation screen of the API Management portal, to create a HMAC which is then used to validate the signature, proving the validity of the passed returnUrl.</target>
        </trans-unit>
        <trans-unit id="ce1d275f-427f-40cc-94e0-e492a81b4c1e" xml:space="preserve">
          <source>The same code works for the productId and userId with slight modification.</source>
          <target state="new">The same code works for the productId and userId with slight modification.</target>
        </trans-unit>
        <trans-unit id="3f98de8c-93c1-456e-8d82-d61b61396c83" xml:space="preserve">
          <source><bpt id="d65ab6d0-8735-4297-b872-2a0dab345615">&lt;strong&gt;</bpt>C# code to generate hash of returnUrl<ept id="d65ab6d0-8735-4297-b872-2a0dab345615">&lt;/strong&gt;</ept></source>
          <target state="new"><bpt id="d65ab6d0-8735-4297-b872-2a0dab345615">&lt;strong&gt;</bpt>C# code to generate hash of returnUrl<ept id="d65ab6d0-8735-4297-b872-2a0dab345615">&lt;/strong&gt;</ept></target>
        </trans-unit>
        <trans-unit id="7e8487d5-e61b-4abf-83ec-34585a6a832b" xml:space="preserve">
          <source><bpt id="b1dbb836-0778-4795-ad4e-15c9b1796350">&lt;strong&gt;</bpt>NodeJS code to generate hash of returnUrl<ept id="b1dbb836-0778-4795-ad4e-15c9b1796350">&lt;/strong&gt;</ept></source>
          <target state="new"><bpt id="b1dbb836-0778-4795-ad4e-15c9b1796350">&lt;strong&gt;</bpt>NodeJS code to generate hash of returnUrl<ept id="b1dbb836-0778-4795-ad4e-15c9b1796350">&lt;/strong&gt;</ept></target>
        </trans-unit>
        <trans-unit id="dcc4b0fb-e343-4a3d-8e2a-bbabf411c0ca" xml:space="preserve">
          <source>For more information on delegation, see the following video.</source>
          <target state="new">For more information on delegation, see the following video.</target>
        </trans-unit>
        <trans-unit id="744d3f8c-77fa-4696-b51c-8782a9e0a742" xml:space="preserve">
          <source>#delegate-signin-up</source>
          <target state="new">#delegate-signin-up</target>
        </trans-unit>
        <trans-unit id="05dec7a6-f1ae-4510-b2ec-acfe70510be8" xml:space="preserve">
          <source>#delegate-product-subscription</source>
          <target state="new">#delegate-product-subscription</target>
        </trans-unit>
        <trans-unit id="76c3d7e5-da6c-4bab-94bc-76ddcc49a45b" xml:space="preserve">
          <source>http://go.microsoft.com/fwlink/?LinkId=507409</source>
          <target state="new">http://go.microsoft.com/fwlink/?LinkId=507409</target>
        </trans-unit>
        <trans-unit id="9ee718df-f958-4e55-9b04-a048dcac03b6" xml:space="preserve">
          <source>http://go.microsoft.com/fwlink/?LinkId=507655#CreateUser</source>
          <target state="new">http://go.microsoft.com/fwlink/?LinkId=507655#CreateUser</target>
        </trans-unit>
        <trans-unit id="00e5bafa-a4b5-4b34-b8f3-41e84e2e7d4b" xml:space="preserve">
          <source>http://go.microsoft.com/fwlink/?LinkId=507655#SSO</source>
          <target state="new">http://go.microsoft.com/fwlink/?LinkId=507655#SSO</target>
        </trans-unit>
        <trans-unit id="dfc6d10b-975f-43d6-ae9e-368e84eed1de" xml:space="preserve">
          <source>#next-steps</source>
          <target state="new">#next-steps</target>
        </trans-unit>
        <trans-unit id="7ddc5d72-9167-46fb-b5c0-056c69491f16" xml:space="preserve">
          <source>#delegate-example-code</source>
          <target state="new">#delegate-example-code</target>
        </trans-unit>
        <trans-unit id="9f252f06-226c-4f12-b32b-36f1dc351a02" xml:space="preserve">
          <source>./media/api-management-howto-setup-delegation/api-management-delegation-signin-up.png</source>
          <target state="new">./media/api-management-howto-setup-delegation/api-management-delegation-signin-up.png</target>
        </trans-unit>
      </group>
      <group id="b5126b95-e963-41ea-b0c3-262f412257a8" />
    </body>
  </file>
</xliff>